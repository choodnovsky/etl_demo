[2023-05-05 05:29:48,337] {taskinstance.py:1159} INFO - Dependencies all met for <TaskInstance: dag_etl.sensor_s3_obj scheduled__2023-05-04T00:00:00+00:00 [queued]>
[2023-05-05 05:29:48,440] {taskinstance.py:1159} INFO - Dependencies all met for <TaskInstance: dag_etl.sensor_s3_obj scheduled__2023-05-04T00:00:00+00:00 [queued]>
[2023-05-05 05:29:48,443] {taskinstance.py:1356} INFO - 
--------------------------------------------------------------------------------
[2023-05-05 05:29:48,445] {taskinstance.py:1357} INFO - Starting attempt 1 of 6
[2023-05-05 05:29:48,446] {taskinstance.py:1358} INFO - 
--------------------------------------------------------------------------------
[2023-05-05 05:29:48,614] {taskinstance.py:1377} INFO - Executing <Task(S3KeySensor): sensor_s3_obj> on 2023-05-04 00:00:00+00:00
[2023-05-05 05:29:48,632] {standard_task_runner.py:52} INFO - Started process 305 to run task
[2023-05-05 05:29:48,662] {standard_task_runner.py:79} INFO - Running: ['***', 'tasks', 'run', 'dag_etl', 'sensor_s3_obj', 'scheduled__2023-05-04T00:00:00+00:00', '--job-id', '1007', '--raw', '--subdir', 'DAGS_FOLDER/dag_etl_taskflow.py', '--cfg-path', '/tmp/tmpc8cc6wmd', '--error-file', '/tmp/tmpauf9ucpq']
[2023-05-05 05:29:48,679] {standard_task_runner.py:80} INFO - Job 1007: Subtask sensor_s3_obj
[2023-05-05 05:29:49,394] {task_command.py:370} INFO - Running <TaskInstance: dag_etl.sensor_s3_obj scheduled__2023-05-04T00:00:00+00:00 [running]> on host 295d97741f96
[2023-05-05 05:29:50,651] {taskinstance.py:1571} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=Victor
AIRFLOW_CTX_DAG_ID=dag_etl
AIRFLOW_CTX_TASK_ID=sensor_s3_obj
AIRFLOW_CTX_EXECUTION_DATE=2023-05-04T00:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-05-04T00:00:00+00:00
[2023-05-05 05:29:50,673] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:29:50,976] {base.py:68} INFO - Using connection ID 'minio_conn' for task execution.
[2023-05-05 05:29:50,985] {base_aws.py:206} INFO - Credentials retrieved from login
[2023-05-05 05:29:56,966] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:30:01,985] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:30:07,009] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:30:12,029] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:30:17,063] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:30:22,100] {s3.py:104} INFO - Poking for key : s3://raw/supermarket_sales.csv
[2023-05-05 05:30:22,127] {base.py:301} INFO - Success criteria met. Exiting.
[2023-05-05 05:30:22,498] {taskinstance.py:1400} INFO - Marking task as SUCCESS. dag_id=dag_etl, task_id=sensor_s3_obj, execution_date=20230504T000000, start_date=20230505T052948, end_date=20230505T053022
[2023-05-05 05:30:22,603] {local_task_job.py:156} INFO - Task exited with return code 0
[2023-05-05 05:30:23,030] {local_task_job.py:273} INFO - 2 downstream tasks scheduled from follow-on schedule check
[2023-08-17 16:26:39,927] {taskinstance.py:1179} INFO - Dependencies all met for <TaskInstance: dag_etl.sensor_s3_obj scheduled__2023-05-04T00:00:00+00:00 [queued]>
[2023-08-17 16:26:40,047] {taskinstance.py:1179} INFO - Dependencies all met for <TaskInstance: dag_etl.sensor_s3_obj scheduled__2023-05-04T00:00:00+00:00 [queued]>
[2023-08-17 16:26:40,048] {taskinstance.py:1376} INFO - 
--------------------------------------------------------------------------------
[2023-08-17 16:26:40,053] {taskinstance.py:1377} INFO - Starting attempt 1 of 6
[2023-08-17 16:26:40,054] {taskinstance.py:1378} INFO - 
--------------------------------------------------------------------------------
[2023-08-17 16:26:40,367] {taskinstance.py:1397} INFO - Executing <Task(S3KeySensor): sensor_s3_obj> on 2023-05-04 00:00:00+00:00
[2023-08-17 16:26:40,515] {standard_task_runner.py:52} INFO - Started process 1288 to run task
[2023-08-17 16:26:40,588] {standard_task_runner.py:79} INFO - Running: ['***', 'tasks', 'run', 'dag_etl', 'sensor_s3_obj', 'scheduled__2023-05-04T00:00:00+00:00', '--job-id', '4', '--raw', '--subdir', 'DAGS_FOLDER/dag_etl_taskflow.py', '--cfg-path', '/tmp/tmp30e7gv5j', '--error-file', '/tmp/tmpd27f3xqi']
[2023-08-17 16:26:40,593] {standard_task_runner.py:80} INFO - Job 4: Subtask sensor_s3_obj
[2023-08-17 16:26:42,343] {task_command.py:371} INFO - Running <TaskInstance: dag_etl.sensor_s3_obj scheduled__2023-05-04T00:00:00+00:00 [running]> on host 1ea22a5e1d7f
[2023-08-17 16:26:43,524] {taskinstance.py:1591} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=Victor
AIRFLOW_CTX_DAG_ID=dag_etl
AIRFLOW_CTX_TASK_ID=sensor_s3_obj
AIRFLOW_CTX_EXECUTION_DATE=2023-05-04T00:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-05-04T00:00:00+00:00
[2023-08-17 16:26:43,548] {s3.py:104} INFO - Poking for key : s3://raw/raw
[2023-08-17 16:26:43,722] {base.py:68} INFO - Using connection ID 'minio_conn' for task execution.
[2023-08-17 16:26:43,725] {base_aws.py:210} INFO - Credentials retrieved from extra_config
[2023-08-17 16:26:54,963] {s3.py:104} INFO - Poking for key : s3://raw/raw
[2023-08-17 16:26:59,987] {s3.py:104} INFO - Poking for key : s3://raw/raw
[2023-08-17 16:27:05,001] {s3.py:104} INFO - Poking for key : s3://raw/raw
[2023-08-17 16:27:10,026] {s3.py:104} INFO - Poking for key : s3://raw/raw
[2023-08-17 16:27:15,057] {s3.py:104} INFO - Poking for key : s3://raw/raw
[2023-08-17 16:27:15,074] {taskinstance.py:1909} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.7/site-packages/airflow/sensors/base.py", line 288, in execute
    raise AirflowSensorTimeout(f"Snap. Time is OUT. DAG id: {log_dag_id}")
airflow.exceptions.AirflowSensorTimeout: Snap. Time is OUT. DAG id: dag_etl
[2023-08-17 16:27:15,124] {taskinstance.py:1420} INFO - Immediate failure requested. Marking task as FAILED. dag_id=dag_etl, task_id=sensor_s3_obj, execution_date=20230504T000000, start_date=20230817T162639, end_date=20230817T162715
[2023-08-17 16:27:15,183] {standard_task_runner.py:97} ERROR - Failed to execute job 4 for task sensor_s3_obj (Snap. Time is OUT. DAG id: dag_etl; 1288)
[2023-08-17 16:27:15,250] {local_task_job.py:156} INFO - Task exited with return code 1
[2023-08-17 16:27:15,395] {local_task_job.py:273} INFO - 0 downstream tasks scheduled from follow-on schedule check
